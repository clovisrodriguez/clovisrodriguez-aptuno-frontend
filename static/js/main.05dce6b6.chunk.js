(this["webpackJsonpclovisrodriguez-aptuno-frontend"]=this["webpackJsonpclovisrodriguez-aptuno-frontend"]||[]).push([[0],{128:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(17),o=t.n(c),i=t(11),u=t(30),l=t(6),m=t(8),s=t(7),d=t(9),p=t.n(d),f="GET_RESULTS_BY_PAGE_ID",g="PAGE_RESULTS_SUCCESS",b=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:f,payload:{pageId:e,filters:n}}},h=function(e){return{type:g,payload:e}},v=t(26),x=t(27),E=t(22),y=t(28),O=t.n(y);function w(){var e=Object(s.a)(["\n  padding: 0.6em;\n  height: 150px;\n  display: flex;\n  cursor: pointer;\n  flex-direction: column;\n  color: black;\n  justify-content: space-between;\n  h5 {\n    font-size: 1.2em;\n    height: 50px;\n  }\n"]);return w=function(){return e},e}function j(){var e=Object(s.a)(["\n  height: 100%;\n  width: auto;\n"]);return j=function(){return e},e}function S(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  margin: 1.5em 0;\n  border-radius: 1em;\n  box-shadow: 0 5px 8px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  flex-direction: column;\n  .lazy-load-image-loaded img {\n    height: 300px;\n  }\n  a {\n    text-decoration: none;\n  }\n  @media (min-width: ",") {\n    margin: 1.5em 1em;\n    width: 31%;\n    .lazy-load-image-loaded img {\n      height: 400px;\n    }\n  }\n  @media (min-width: ",") {\n    width: 23%;\n  }\n"]);return S=function(){return e},e}var k=l.c.div(S(),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.spacing.lg})),_=l.c.div(j()),I=l.c.div(w()),N=function(e){var n=e.card,t=p.a.get(n,"images",[O.a]);return a.a.createElement(k,null,a.a.createElement(x.Carousel,{showArrows:!0,showIndicators:!1,showStatus:!1,showThumbs:!1},t.map((function(e,n){return a.a.createElement(_,{key:n},a.a.createElement(v.LazyLoadImage,{src:e,effect:"opacity"}))}))),a.a.createElement(E.a,{to:"/property/".concat(n.id)},a.a.createElement(I,null,a.a.createElement("h5",null,n.title),a.a.createElement("div",null,a.a.createElement("p",null,"Habitaciones: ",n.bedrooms),a.a.createElement("p",null,"Area: ",n.area," M",a.a.createElement("sup",null,"2")),a.a.createElement("p",null,"Precio:"," ",new Intl.NumberFormat("co-ES",{style:"currency",currency:"COP"}).format(n.pricing.rentalPrice+n.pricing.administrativeFee))))))},P=t(18),A=t(59),C=t(64),D=t(65),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;if(!r)return e;switch(t){case g:return r;default:return e}},T="GET_PAGE_DATA",F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;switch(t){case T:return{data:r,regions:p.a.uniq(p.a.flatten(p.a.map(r,"regions"),!0)).sort(),bedrooms:p.a.uniq(p.a.map(r,"bedrooms")).sort()};default:return e}},z="GET_PROPERTY_DATA_BY_ID",L="PROPERTY_SUCCESS",G=function(e){return{type:L,payload:e}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.payload;if(!r)return e;switch(t){case L:return r;default:return e}},B="IS_LOADING",U="FINISH_LOADING",H=function(){return{type:B}},Y=function(){return{type:U}},q=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0,t=n.type;switch(t){case B:return!0;case U:return!1;default:return e}},J=t(14),X=t.n(J),V=t(10),K=t(58),Q=t.n(K),W=function(){return Q.a.get("https://raw.githubusercontent.com/aptuno/code-challenge/master/challenges/data/properties.json")},Z=X.a.mark($);function $(){var e;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(V.b)(W);case 3:return e=n.sent,n.next=6,Object(V.d)(H());case 6:return n.next=8,Object(V.d)((t=e.data.data,{type:T,payload:t}));case 8:return n.next=10,Object(V.d)(Y());case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.log("Request-failed: ".concat(n.t0));case 15:case"end":return n.stop()}var t}),Z,null,[[0,12]])}var ee=function(e,n){var t=n.pageId,r=n.filters,a=t;return e=function(e,n){var t=e.region,r=void 0===t?"":t,a=e.bedrooms,c=void 0===a?[]:a;return r.length&&(n=p.a.filter(n,(function(e){return p.a.includes(e.regions,r)}))),c.length&&(n=p.a.filter(n,(function(e){return p.a.includes(c,e.bedrooms)}))),n}(r,e),12*t>e.length&&(a=Math.round(e.length/12)),new Promise((function(n,c){setTimeout((function(){return n({data:e.slice(12*(a-1),12*a),filters:r,pages:Array.from({length:Math.round(e.length/12)},(function(e,n){return n+1})),pageNumber:t})}),1500*Math.random()+400)}))},ne=function(e){return e.getAppData},te=X.a.mark(ae),re=X.a.mark(ce);function ae(e){var n,t,r,a;return X.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.payload,c.next=3,Object(V.d)(H());case 3:return c.t0=ne,c.next=6,Object(V.e)();case 6:return c.t1=c.sent,t=(0,c.t0)(c.t1),r=t.data,c.next=11,ee(r,n);case 11:return a=c.sent,c.next=14,Object(V.d)(h(a));case 14:return c.next=16,Object(V.d)(Y());case 16:case"end":return c.stop()}}),te)}function ce(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.f)(f,ae);case 2:case"end":return e.stop()}}),re)}var oe=function(e,n){return new Promise((function(t,r){setTimeout((function(){return t(p.a.find(e,["id",Number(n)]))}),1500*Math.random()+400)}))},ie=function(e){return e.getAppData},ue=X.a.mark(me),le=X.a.mark(se);function me(e){var n,t,r,a;return X.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.payload,c.next=3,Object(V.d)(H());case 3:return c.t0=ie,c.next=6,Object(V.e)();case 6:return c.t1=c.sent,t=(0,c.t0)(c.t1),r=t.data,c.next=11,oe(r,n);case 11:return a=c.sent,c.next=14,Object(V.d)(G(a));case 14:return c.next=16,Object(V.d)(Y());case 16:case"end":return c.stop()}}),ue)}function se(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.f)(z,me);case 2:case"end":return e.stop()}}),le)}var de=X.a.mark(pe);function pe(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.a)([Object(V.c)($)]);case 2:return e.next=4,Object(V.a)([Object(V.c)(ce)]);case 4:return e.next=6,Object(V.a)([Object(V.c)(se)]);case 6:case"end":return e.stop()}}),de)}var fe,ge=Object(D.a)(),be=Object(C.a)(),he=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.d,ve=[Object(A.routerMiddleware)(ge),be],xe=Object(P.e)((fe=ge,Object(P.c)({getAppData:F,getResultPage:R,loader:q,propertyData:M,router:Object(u.b)(fe)})),he(P.a.apply(void 0,ve)));be.run(pe);var Ee=xe;function ye(){var e=Object(s.a)(["\n  height: 100%;\n  flex-grow: 1;\n  cursor: pointer;\n  color: ",";\n  font-weight: ",";\n"]);return ye=function(){return e},e}function Oe(){var e=Object(s.a)(["\n  height: 100%;\n  flex-grow: 1;\n  cursor: pointer;\n  background: ",";\n  color: ",";\n"]);return Oe=function(){return e},e}function we(){var e=Object(s.a)(["\n  position: fixed !important;\n  z-index: 100;\n  height: 60px;\n  bottom: 0;\n  top: unset;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.5);\n  width: 370px;\n  background: white;\n  margin: 0 auto;\n  left: 0 !important;\n  display: flex;\n  border-radius: 5px;\n  @media (min-width: ",") {\n    bottom: 2em;\n  }\n"]);return we=function(){return e},e}var je=l.c.div(we(),(function(e){return e.theme.spacing.md})),Se=l.c.button(Oe(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.base})),ke=l.c.button(ye(),(function(e){var n=e.active,t=e.theme;return n?t.colors.primary:"#000000"}),(function(e){return e.active?"700":"400"})),_e=function(e){var n=e.activePage,t=e.pages,r=void 0===t?[]:t,c=function(e){ge.push("/results/".concat(e))},o=function(){return 1!==Number(n)?a.a.createElement(Se,{onClick:function(){return c(Number(n)-1)}},"\u25c0"):null},i=function(){return Number(n)<r.length?a.a.createElement(Se,{onClick:function(){return c(Number(n)+1)}},"\u25b6"):null},u=function(){return r.map((function(e,t){return a.a.createElement(ke,{active:Number(n)===e,key:t,onClick:function(){return Number(n)!==e?c(Number(e)):null}},e)}))};return a.a.createElement(je,null,a.a.createElement(o,null),a.a.createElement(u,null),a.a.createElement(i,null))},Ie=t(62),Ne=t(31),Pe=t(63);function Ae(){var e=Object(s.a)(["\n  display: flex;\n"]);return Ae=function(){return e},e}function Ce(){var e=Object(s.a)([""]);return Ce=function(){return e},e}function De(){var e=Object(s.a)(["\n  padding-left: 0.5em;\n  border-radius: 0.2em;\n"]);return De=function(){return e},e}function Re(){var e=Object(s.a)(["\n  position: fixed !important;\n  z-index: 5;\n  padding: 0.5em;\n  color: white;\n  height: 60px;\n  top: 5em;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.5);\n  background: ",";\n  margin: 0 auto;\n  left: 0 !important;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  @media (min-width: ",") {\n    flex-direction: row;\n    height: 45px;\n  }\n  label {\n    margin-right: 0.8em;\n  }\n  * {\n    margin: 0 0.5em;\n  }\n"]);return Re=function(){return e},e}var Te=l.c.div(Re(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.spacing.md})),Fe=l.c.select(De()),ze=l.c.option(Ce()),Le=l.c.div(Ae()),Ge=function(e){var n=e.bedrooms,t=e.regions,c=e.changeFilter,o=Object(r.useState)({region:"",bedrooms:[]}),i=Object(Pe.a)(o,2),u=i[0],l=i[1];return a.a.createElement(Te,null,a.a.createElement("div",null,a.a.createElement("label",null,"Sector:"),a.a.createElement(Fe,{onChange:function(e){return function(e){var n=Object(Ne.a)(Object(Ne.a)({},u),{},{region:e});l(n),c(n)}(e.target.value)}},a.a.createElement(ze,{value:""},"Ninguno"),t.map((function(e,n){return a.a.createElement(ze,{value:e,key:n},e)})))),a.a.createElement(Le,null,a.a.createElement("p",null,"Habitaci\xf3nes:"),n.map((function(e,n){return a.a.createElement("div",{key:n},a.a.createElement("input",{type:"checkbox",value:e,checked:p.a.includes(u.bedrooms,e),onChange:function(e){return function(e,n){var t=Object(Ne.a)({},u);t.bedrooms=n?[].concat(Object(Ie.a)(u.bedrooms),[Number(e)]).sort():u.bedrooms.filter((function(n){return n!==Number(e)})),l(t),c(t)}(e.target.value,e.target.checked)}}),a.a.createElement("label",null,e))}))))};function Me(){var e=Object(s.a)(["\n  display: flex;\n  flex-flow: wrap;\n  justify-content: center;\n  align-items: flex-start;\n"]);return Me=function(){return e},e}var Be=l.c.div(Me()),Ue=function(e){var n=e.match,t=Object(i.useSelector)((function(e){return e.getAppData})),r=Object(i.useSelector)((function(e){return e.getResultPage}))||[],c=Object(i.useSelector)((function(e){return e.loader})),o=Object(i.useDispatch)(),u=p.a.get(n,"params.pageId")||1,l=p.a.get(r,"data",[]);return p.a.get(r,"pageNumber")!==u&&o(b(u,r.filters)),a.a.createElement(a.a.Fragment,null,a.a.createElement(Be,null,a.a.createElement(Ge,{regions:t.regions,bedrooms:t.bedrooms,changeFilter:function(e){o(b(1,e)),ge.push("/results/".concat(1))}}),l.map((function(e,n){return a.a.createElement(N,{card:e,key:n})}))),l.length&&!c&&a.a.createElement(_e,{activePage:u,pages:r.pages}))};function He(){var e=Object(s.a)(["\n  padding: 1em;\n  max-width: 50em;\n  h2 {\n    font-size: 3em;\n    margin-bottom: 2em;\n  }\n  hr {\n    border-top: 1px solid rgba(0, 0, 0, 0.3);\n    margin: 1em 0;\n  }\n  p {\n    margin-bottom: 0.5em;\n  }\n"]);return He=function(){return e},e}function Ye(){var e=Object(s.a)(["\n  width: 100%;\n  * {\n    top: unset;\n    padding: unset;\n    right: unset;\n    border: unset;\n  }\n"]);return Ye=function(){return e},e}function qe(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  @media (min-width: ",") {\n    margin: 0 3em;\n  }\n  @media (min-width: ",") {\n    margin: 0 17em;\n    flex-direction: row;\n  }\n"]);return qe=function(){return e},e}var Je=l.c.div(qe(),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.spacing.lg})),Xe=l.c.div(Ye()),Ve=l.c.div(He()),Ke=function(e){var n=e.match,t=Object(i.useSelector)((function(e){return e.propertyData})),r=p.a.get(t,"images",[O.a]),c=t.title,o=t.description,u=t.bedrooms,l=t.bathrooms,m=t.pricing,s=t.area,d=p.a.get(n,"params.propertyId");return Object(i.useDispatch)()({type:z,payload:d}),a.a.createElement(Je,null,a.a.createElement(Xe,null,a.a.createElement(x.Carousel,{showIndicators:!0,showThumbs:!0},r.map((function(e,n){return a.a.createElement(v.LazyLoadImage,{src:e,effect:"opacity",height:800})})))),a.a.createElement(Ve,null,a.a.createElement("h2",null,c),a.a.createElement("p",null,o),a.a.createElement("hr",null),a.a.createElement("p",null,"Habitaciones: ",u),a.a.createElement("p",null,"Ba\xf1os: ",l),a.a.createElement("p",null,"Area: ",s,"M",a.a.createElement("sup",null,"2")),a.a.createElement("div",null,m&&a.a.createElement(a.a.Fragment,null," ",a.a.createElement("p",null,"precio"),a.a.createElement("p",null,"Arriendo:"," ",new Intl.NumberFormat("co-ES",{style:"currency",currency:"COP"}).format(m.rentalPrice)),a.a.createElement("p",null,"Administraci\xf3n:"," ",new Intl.NumberFormat("co-ES",{style:"currency",currency:"COP"}).format(m.administrativeFee)))),a.a.createElement(E.a,{to:"/results/1"},a.a.createElement("button",{className:"primary-button"},"Buscar m\xe1s"))))},Qe=t(131),We=t(60),Ze=t.n(We);function $e(){var e=Object(s.a)(["\n  width: 100%;\n  padding: 1em;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n  height: 3em;\n  background: ",";\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n"]);return $e=function(){return e},e}var en=l.c.header($e(),(function(e){return e.theme.colors.base})),nn=function(){return a.a.createElement(en,null,a.a.createElement("img",{src:Ze.a,alt:"neptuno"}))},tn=t(61),rn=t.n(tn);function an(){var e=Object(s.a)(["\n  opacity: ",";\n  display: ",";\n"]);return an=function(){return e},e}function cn(){var e=Object(s.a)(["\n  background: ",";\n  position: fixed;\n  width: 100%;\n  align-content: center;\n  justify-content: center;\n  align-items: center;\n  z-index: 100;\n  div {\n    position: relative;\n  }\n"]);return cn=function(){return e},e}var on=l.c.div(cn(),(function(e){return e.theme.colors.base})),un=Object(l.c)(on)(an(),(function(e){return"exiting"===e.state?.6:0}),(function(e){return"exited"===e.state?"none":"flex"})),ln=function(e){var n=e.state;return a.a.createElement(un,{state:n},a.a.createElement(rn.a,{type:"Bars",color:"#00BFFF",height:100,width:100,visible:!0}))};function mn(){var e=Object(s.a)(["\n  margin-top: 6em;\n  padding: ",";\n  @media (min-width: ",") {\n    padding: ",";\n  }\n  * {\n    position: relative;\n    left: unset;\n  }\n"]);return mn=function(){return e},e}var sn=l.c.section(mn(),(function(e){return e.theme.margin.sm}),(function(e){return e.theme.spacing.md}),(function(e){return e.theme.margin.md})),dn=function(e){var n=e.children,t=Object(i.useSelector)((function(e){return e.loader}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(Qe.a,{in:t,timeout:{appear:0,enter:0,exit:600}},(function(e){return a.a.createElement(ln,{state:e})})),a.a.createElement(nn,null),a.a.createElement(sn,null,n))};var pn=function(){return(Object(i.useSelector)((function(e){return e.getAppData.data}))||[]).length?a.a.createElement(dn,null,a.a.createElement(m.Switch,null,a.a.createElement(m.Redirect,{exact:!0,path:"/",to:"/results/1"}),a.a.createElement(m.Route,{exact:!0,path:"/results/:pageId",component:Ue}),a.a.createElement(m.Route,{exact:!0,path:"/property/:propertyId",component:Ke}))):null};function fn(){var e=Object(s.a)(["\n    * {\n      position: absolute;\n      margin: 0;\n      top: 0;\n      padding: 0;\n      border: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      font-family: 'Open Sans', sans-serif;\n    }\n    img {\n      position: relative;\n      heigth: auto;\n    }\n\n    .primary-button {\n      background: ",";\n      color: white;\n      border-radius: 1em;\n      padding: 0.5em;\n      width: 200px;\n      cursor: pointer;\n      text-decoration: none;\n    }\n"]);return fn=function(){return e},e}var gn={colors:{primary:"#0055fb",secondary:"#fd8d5d",base:"#ffffff"},spacing:{sm:"30em",md:"50em",lg:"70em"},margin:{sm:"1.5em",md:"2em",lg:"3em"}},bn=Object(l.b)(fn(),gn.colors.primary);t(126),t(127);o.a.render(a.a.createElement(i.Provider,{store:Ee,context:i.ReactReduxContext},a.a.createElement(u.a,{history:ge,context:i.ReactReduxContext},a.a.createElement(l.a,{theme:gn},a.a.createElement(bn,null),a.a.createElement(pn,null)))),document.getElementById("root"))},28:function(e,n,t){e.exports=t.p+"static/media/not-available-list.7d08a506.png"},60:function(e,n,t){e.exports=t.p+"static/media/aptuno_logo_2colors.f64d22fd.svg"},67:function(e,n,t){e.exports=t(128)}},[[67,1,2]]]);
//# sourceMappingURL=main.05dce6b6.chunk.js.map